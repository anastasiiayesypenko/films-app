(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{44:function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"d",function(){return o}),n.d(t,"b",function(){return i}),n.d(t,"c",function(){return c});var a=n(1),r=function(e){return{type:a.a.ADD_TO_FAVORITES,payload:{film:e}}},o=function(e){return{type:a.a.MARK_WATCHED,payload:{film:e}}},i=function(e){return{type:a.a.DElETE_FROM_FAVORITES,payload:{id:e}}},c=function(e){return{type:a.a.DELETE_FROM_WATCHED,payload:{id:e}}}},46:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var a=n(48),r=n.n(a),o=n(47),i="bcf1e9109b9838d979a3eda6f6128d7e";t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return function(n){n(Object(o.b)()),r.a.get("https://api.themoviedb.org/3/search/movie?api_key=".concat(i,"&query=").concat(e,"&page=").concat(t,"&include_adult=false")).then(function(e){n(Object(o.c)(e.data.results)),n(Object(o.f)(e.data.total_pages))}).catch(function(e){return n(Object(o.a)(e))})}}},47:function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"c",function(){return o}),n.d(t,"e",function(){return i}),n.d(t,"f",function(){return c}),n.d(t,"d",function(){return l}),n.d(t,"a",function(){return u});var a=n(1),r=function(){return{type:a.a.FILM_LOADING}},o=function(e){return{type:a.a.FILM_SEARCH_SUCCESS,payload:{films:e}}},i=function(e){return{type:a.a.SET_FILM_QUERY,payload:{query:e}}},c=function(e){return{type:a.a.SET_PAGES,payload:{totalPages:e}}},l=function(e){return{type:a.a.SET_ACTIVE_PAGE,payload:{activePage:e}}},u=function(e){return{type:a.a.FILM_SEARCH_ERROR,payload:{error:e}}}},78:function(e,t,n){e.exports={title:"Form_title__1y3C0",form:"Form_form__VWjzV",input:"Form_input__3ATl8",button:"Form_button__3zl93"}},86:function(e,t,n){e.exports={film:"FilmItem_film__21O8b",vote:"FilmItem_vote__1fl45"}},87:function(e,t,n){e.exports={filmsWrapper:"FilmsWrapper_filmsWrapper__sbZn6"}},88:function(e,t,n){e.exports={wrapper:"Home_wrapper__27E9n"}},90:function(e,t,n){"use strict";n.r(t);var a=n(27),r=n(46),o=n(0),i=n.n(o),c=n(50),l=n(79),u=(n(77),n(78)),s=n.n(u);function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function m(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var d=i.a.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}),p=i.a.createElement("path",{fill:"#fff",d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),b=function(e){var t=e.svgRef,n=m(e,["svgRef"]);return i.a.createElement("svg",f({width:24,height:24,viewBox:"0 0 24 24",ref:t},n),d,p)},v=i.a.forwardRef(function(e,t){return i.a.createElement(b,f({svgRef:t},e))}),h=(n.p,function(e){var t=e.fetchFilms,n=e.query,a=e.setFilmQuery,r=e.setActivePage,u=Object(o.useState)(n),f=Object(c.a)(u,2),m=f[0],d=f[1];Object(o.useEffect)(function(){r(1)},[n]);return i.a.createElement("div",null,i.a.createElement("h2",{className:s.a.title}," Home ")," ",i.a.createElement("form",{onSubmit:function(e){e.preventDefault(),""!==m?(a(m),t(m,1)):Object(l.b)("Nothing was entered!")},className:s.a.form},i.a.createElement("input",{autoFocus:!0,type:"text",onChange:function(e){d(e.target.value)},value:m,placeholder:"Enter film title here...",className:s.a.input})," ",i.a.createElement("button",{type:"submit",className:s.a.button},i.a.createElement(v,{className:s.a.search})," ")," ")," ",i.a.createElement(l.a,null))}),E=n(85),F=function(e){var t=e.setActivePage,n=e.pages,a=e.query,r=e.fetchFilms,l=Object(E.useStateWithCallbackInstant)(1,function(){console.log("callback")}),u=Object(c.a)(l,2),s=u[0],f=u[1];Object(o.useEffect)(function(){f(1)},[a]);var m=function(e){f(e),t(e),r(a,e),window.scrollTo({top:0})},d=function(e){"back"===e?(t(s-1),f(s-1),r(a,s-1)):(t(s+1),f(s+1),r(a,s+1)),window.scrollTo({top:0})};return i.a.createElement("div",null,i.a.createElement("button",{type:"button",disabled:s<2,onClick:function(){return m(1)}},"First"," ")," ",i.a.createElement("button",{type:"button",disabled:s<2,onClick:function(){return d("back")}},"Back"," ")," ",i.a.createElement("button",{type:"button",disabled:s===n.totalPages,onClick:function(){return d("forward")}},"Forward"," ")," ",i.a.createElement("div",null," ",s," ")," ",i.a.createElement("button",{type:"button",disabled:s===n.totalPages,onClick:function(){return m(n.totalPages)}},"Last"," ")," ")},y=n(11),g=n(86),_=n.n(g),w=function(e){var t=e.film,n=e.addFilmToFavorites,a=e.markAsWatched,r=e.favoritesList,o=e.watchedList,c=e.deleteFromFavorites,l=e.deleteFromWatched;return i.a.createElement("div",{className:_.a.film},i.a.createElement(y.b,{to:"/".concat(t.title,"/").concat(t.id)},i.a.createElement("img",{src:t.poster_path?"https://image.tmdb.org/t/p/w200/".concat(t.poster_path):"https://www.viser.edu.rs/images/no_photo.jpeg",alt:"film poster"}))," ",i.a.createElement("div",null,i.a.createElement("h3",{className:_.a.title}," ",t.title," ")," ",t.vote_average&&i.a.createElement("p",{className:_.a.vote},t.vote_average)," ",i.a.createElement("p",null," ",t.overview||"no overview"," ")," ",r.find(function(e){return Number(e.id)===Number(t.id)})?i.a.createElement("button",{type:"button",onClick:function(){c(t.id)}},"Delete from fav"," "):i.a.createElement("button",{type:"button",onClick:function(){n(t)}},"Add to fav"," ")," ",o.find(function(e){return Number(e.id)===Number(t.id)})?i.a.createElement("button",{type:"button",onClick:function(){l(t.id)}},"Delete from watched"," "):i.a.createElement("button",{type:"button",onClick:function(){a(t)}},"Add to watched"," ")," ")," ",i.a.createElement("button",{type:"button"},i.a.createElement(y.b,{to:"/".concat(t.title,"/").concat(t.id)}," Show more ")," ")," ")},O=n(13),A=n(87),j=n.n(A),L=function(e){var t=e.isLoading,n=e.films,a=e.error,r=e.pages,o=e.query,c=e.addFilmToFavorites,l=e.markAsWatched,u=e.favoritesList,s=e.fetchFilms,f=e.watchedList,m=e.deleteFromFavorites,d=e.deleteFromWatched,p=e.setActivePage;return a&&console.log(a),i.a.createElement("section",{className:j.a.filmsWrapper}," ",t&&i.a.createElement(O.a,null)," ",n.length>0&&n.map(function(e){return i.a.createElement(w,{key:e.id,film:e,addFilmToFavorites:c,markAsWatched:l,favoritesList:u,watchedList:f,deleteFromFavorites:m,deleteFromWatched:d})})," ",n.length>0&&i.a.createElement(F,{setActivePage:p,pages:r,query:o,fetchFilms:s})," ")},k=n(88),C=n.n(k),T=function(e){var t=e.fetchFilms,n=e.isLoading,a=e.films,r=e.error,o=e.query,c=e.pages,l=e.addFilmToFavorites,u=e.markAsWatched,s=e.favoritesList,f=e.watchedList,m=e.deleteFromFavorites,d=e.deleteFromWatched,p=e.setActivePage,b=e.setFilmQuery;return i.a.createElement("div",{className:C.a.wrapper},i.a.createElement(h,{fetchFilms:t,query:o,setFilmQuery:b,setActivePage:p})," ",i.a.createElement(L,{fetchFilms:t,isLoading:n,films:a,error:r,pages:c,query:o,addFilmToFavorites:l,markAsWatched:u,favoritesList:s,watchedList:f,deleteFromFavorites:m,deleteFromWatched:d,setActivePage:p})," ")},W=n(44),S=n(47);t.default=Object(a.b)(function(e){return{isLoading:e.isLoading,films:e.films,error:e.error,query:e.query,pages:e.pages,favoritesList:e.favoritesList,watchedList:e.watchedList}},function(e){return{fetchFilms:function(t,n){return e(Object(r.b)(t,n))},addFilmToFavorites:function(t){return e(Object(W.a)(t))},markAsWatched:function(t){return e(Object(W.d)(t))},deleteFromFavorites:function(t){return e(Object(W.b)(t))},deleteFromWatched:function(t){return e(Object(W.c)(t))},setActivePage:function(t){return e(Object(S.d)(t))},setFilmQuery:function(t){return e(Object(S.e)(t))}}})(T)}}]);
//# sourceMappingURL=home-page.5653d533.chunk.js.map